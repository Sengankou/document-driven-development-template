# document-driven-development-template

## ドキュメント間の関係性と作成順序

各ドキュメントは独立しているわけではなく、相互に関連し合っています。以下に推奨される作成順序と段階的な詳細化の流れを示します。

### 作成順序と各フェーズでのアクティビティ

#### フェーズ1: プロジェクト初期化
**作成するドキュメント:**
1. **プロジェクト憲章** 
   - プロジェクトの基本方針、目的、スコープを確立
   - 成功基準と制約を明確化
2. **体制図**
   - プロジェクトの実施体制を明確化
3. **用語集**（初版）
   - プロジェクト特有の用語を定義開始
   - プロジェクト全体を通じて継続更新
4. **リスク管理表**（初版）
   - 初期リスクの特定
   - プロジェクト全体を通じて継続更新

**並行作業:**
- ステークホルダーとの合意形成
- プロジェクト環境の準備

---

#### フェーズ2: 要求分析
**作成するドキュメント:**
5. **ユーザーストーリー**
   - ユーザーペルソナの定義
   - ユーザージャーニーの作成
   - 具体的な利用シナリオの記述
   - 受け入れ基準の明確化
6. **要求仕様書**
   - ユーザーストーリーから機能要件を導出
   - 非機能要件の定義
   - データモデル（概念レベル）の作成
   - トレーサビリティマトリクスの作成開始

**並行作業:**
- **テスト仕様書**の作成開始
  - 受け入れ基準からテストケースを導出
- **用語集**の更新
  - ドメイン用語の追加
- **リスク管理表**の更新
  - 要求に関連するリスクの追加

---

#### フェーズ3: アーキテクチャ設計
**作成するドキュメント:**
7. **アーキテクチャ設計書**
   - システム全体の構造を定義
   - アーキテクチャパターンの選定
   - アーキテクチャ決定記録（ADR）の作成
   - 技術スタックの決定
   - 非同期・並行処理の方針決定

**並行作業:**
- **品質・運用設計書**（一部）の作成開始
  - セキュリティの全体方針
  - パフォーマンス要件の確認
- **外部連携仕様書**（概要）の作成開始
  - 外部システム一覧の作成
- **用語集**の更新
  - 技術用語の追加
- **リスク管理表**の更新
  - 技術的リスクの評価

---

#### フェーズ4: データ設計
**作成するドキュメント:**
8. **データ設計書**
   - 概念データモデル（ER図）の作成
   - 論理データモデルの作成
   - 物理データモデル（データベース設計）
   - アプリケーションデータ型の定義

**並行作業:**
- **テスト仕様書**の更新
  - データ関連のテストケース追加
- **用語集**の更新
  - データエンティティの定義
- **リスク管理表**の更新
  - データに関するリスクの評価

---

#### フェーズ5: 詳細設計
**作成するドキュメント:**
9. **インターフェース仕様書** と **機能詳細仕様書** を並行して作成
   - **インターフェース仕様書:**
     - API仕様の詳細化
     - 画面仕様の作成
     - 画面遷移図の作成
   - **機能詳細仕様書:**
     - 状態遷移図の作成
     - シーケンス図の作成
     - 機能詳細仕様の記述
   - 両者を相互参照しながら詳細化
10. **ユースケース実装ガイド**
    - インターフェース仕様と機能詳細仕様に基づいて作成
    - ユーザーストーリーの実装レベルでの具体化
11. **品質・運用設計書**（詳細化）
    - エラー処理の詳細
    - ログ仕様の詳細
    - セキュリティ実装の詳細
    - パフォーマンス最適化の方針
    - バックアップ・リカバリの詳細
    - 運用・保守の詳細
    - 多言語対応の詳細（必要に応じて）
12. **外部連携仕様書**（詳細化）
    - 各連携の詳細仕様
    - エラーハンドリングの詳細

**並行作業:**
- **テスト仕様書**の詳細化
  - 詳細なテストケースの作成
  - テストシナリオの作成
- **用語集**の更新
  - 実装に関連する用語の追加
- **リスク管理表**の更新
  - 実装に関するリスクの評価

---

#### フェーズ6: 実装・テスト
**並行作業:**
- コードの実装（実装仕様はコード内のドキュメントで表現）
- **テスト仕様書**に基づくテストの実施
- **ユースケース実装ガイド**の検証と更新
- 全ドキュメントの実装との整合性チェックと更新
- **リスク管理表**の更新
  - 実装中に発見されたリスクの追加

---

#### フェーズ7: リリース準備
**作成するドキュメント:**
13. **ユーザーマニュアル**
    - ユースケース実装ガイドを元に、ユーザー向けに作成
    - 初期設定、基本操作、主要機能の説明
    - トラブルシューティング
14. **リファレンスマニュアル**
    - 機能の網羅的なリファレンス
    - API リファレンス（該当する場合）

**並行作業:**
- 最終的な全ドキュメントのレビューと承認
- ドキュメントのバージョン確定

---

### トレーサビリティ（追跡可能性）

ドキュメント間を以下のようにIDで紐付けることで、要求から実装までの追跡が可能になります:

```
プロジェクト憲章（目的・スコープ）
    ↓
ユーザーストーリー（US-001...）
    ↓
要求仕様書（FR-001, NFR-001... 対応するユーザーストーリーIDを記載）
    ↓
設計仕様書群
    ├─ アーキテクチャ設計書（ADR-001...）
    ├─ データ設計書（テーブル定義、データ型定義）
    ├─ インターフェース仕様書（API-001, SCR-001... 対応する要件IDを記載）
    ├─ 機能詳細仕様書（F-001... 対応する要件ID、ストーリーIDを記載）
    ├─ ユースケース実装ガイド（UC-001... 対応するストーリーIDを記載）
    ├─ 品質・運用設計書
    └─ 外部連携仕様書（EXT-001...）
    ↓
テスト仕様書（TC-001... 対応する要件ID、受け入れ基準IDを記載）
    ↓
実装（コード内ドキュメント）
    ↓
ユーザーマニュアル、リファレンスマニュアル
```

**主要なトレーサビリティリンク:**
- **ユーザーストーリーID** → **要求仕様書の要件ID**
- **要件ID** → **設計仕様のID**（機能ID、API ID、画面ID等）
- **受け入れ基準ID** → **テストケースID**
- **要件ID** → **テストケースID**

### ドキュメントの更新管理

#### バージョン管理
各ドキュメントには以下の情報を含めます:
- **バージョン番号:** セマンティックバージョニング（例: 1.0.0, 1.1.0, 2.0.0）
  - メジャーバージョン: 大幅な変更
  - マイナーバージョン: 機能追加
  - パッチバージョン: 軽微な修正
- **更新履歴:** 各ドキュメントの冒頭に記載
  - 日付
  - バージョン
  - 担当者
  - 変更内容

#### 変更管理プロセス
プロジェクト進行中に変更が発生した場合:
1. **変更要求の記録:** 何をなぜ変更するのか
2. **影響範囲の分析:** どのドキュメントに影響するか
3. **レビューと承認:** ステークホルダーの承認を得る
4. **ドキュメント更新:** 関連するすべてのドキュメントを更新
5. **バージョン番号の更新:** 変更の大きさに応じてバージョンアップ
6. **更新履歴の記録:** 変更内容を記録
7. **関係者への通知:** 変更を関係者に周知

#### レビューと承認
各ドキュメントは以下のプロセスを経ることを推奨します:
1. **ドラフト作成:** 担当者がドキュメントを作成
2. **内部レビュー:** チーム内でのレビュー
3. **修正:** レビューコメントに基づく修正
4. **外部レビュー:** 顧客・ステークホルダーによるレビュー（該当する場合）
5. **最終修正:** 外部レビューコメントに基づく修正
6. **承認:** 承認者による正式承認
7. **リリース:** バージョン管理下での運用開始



## まとめ

このガイドで紹介したドキュメント体系は、ソフトウェア開発プロジェクトを成功に導くための基盤となります。プロジェクトの規模や特性に応じて、必要なドキュメントを選択し、適切な詳細度で作成してください。

### プロジェクト規模別の推奨ドキュメント

#### ひとり開発
**必須:**
- プロジェクト憲章（簡易版、1.5まで）
- 用語集（必要に応じて）

**推奨:**
- ユーザーストーリー（簡易版）
- アーキテクチャ設計書
- データ設計書
- インターフェース仕様書
- 機能詳細仕様書
- ユースケース実装ガイド（簡易版）

**任意:**
- 要求仕様書（自社開発の場合は簡略化可能）
- 品質・運用設計書（重要部分のみ）
- ユーザーマニュアル（簡易版、操作手順のみ）

#### 2-5人の小規模チーム
**必須:**
- プロジェクト憲章
- 要求仕様書
- アーキテクチャ設計書
- データ設計書
- インターフェース仕様書
- 機能詳細仕様書
- テスト仕様書
- 用語集

**推奨:**
- 体制図（簡易版）
- ユーザーストーリー
- ユースケース実装ガイド
- 品質・運用設計書
- リスク管理表
- ユーザーマニュアル

**任意:**
- 外部連携仕様書（外部連携がある場合は必須）
- リファレンスマニュアル

#### 6人以上の中規模以上
**すべてのドキュメントを作成することを推奨**

ただし、以下の点に注意:
- プロジェクトの特性に応じて、不要なセクションは省略可能
- 外部連携がない場合、外部連携仕様書は不要
- API を提供しない場合、リファレンスマニュアルの一部は不要

### 重要な原則

1. **ドキュメントは手段であり目的ではない**
   - ドキュメントを作ること自体が目的ではなく、チームの共通理解を促進し、品質の高いソフトウェアを効率的に開発するための手段
   - 形式にとらわれすぎず、プロジェクトの実態に合わせて柔軟に運用

2. **段階的な詳細化**
   - すべてを一度に完璧に作ろうとせず、段階的に詳細化
   - 上位レベルのドキュメント（プロジェクト憲章、アーキテクチャ設計書）から始め、徐々に詳細化

3. **トレーサビリティの確保**
   - ドキュメント間のIDによる紐付けを徹底
   - 要求から実装、テストまでの追跡可能性を維持

4. **継続的な更新**
   - ドキュメントは一度作って終わりではなく、プロジェクト全体を通じて継続的に更新
   - 特に用語集、リスク管理表、テスト仕様書は常に最新の状態を保つ

5. **LLMの活用**
   - 各ドキュメントの作成や更新時にLLMを活用
   - ドキュメント間の整合性チェックにもLLMを利用
   - ただし、最終的な判断と責任は人間が持つ

6. **関係者との合意**
   - 重要なドキュメント（プロジェクト憲章、要求仕様書、アーキテクチャ設計書）は、関係者全員の合意を得る
   - 定期的なレビューと承認プロセスを設ける

7. **実装との整合性**
   - ドキュメントと実装が乖離しないよう、常にチェック
   - 実装が変更された場合は、関連するドキュメントも速やかに更新

### ドキュメント作成のベストプラクティス

1. **明確で簡潔な表現**
   - 曖昧な表現を避け、具体的に記述
   - 専門用語は用語集で定義

2. **図表の活用**
   - 複雑な関係性は図で表現
   - システム概要図、ER図、シーケンス図、状態遷移図などを積極的に活用

3. **一貫性の維持**
   - 命名規則、フォーマット、スタイルをドキュメント全体で統一
   - テンプレートを使用して一貫性を保つ

4. **読者を意識**
   - 各ドキュメントの読者（顧客、開発者、運用担当者など）を意識
   - 読者に応じた適切な詳細度と表現を選択

5. **バージョン管理**
   - すべてのドキュメントをバージョン管理システムで管理
   - 変更履歴を明確に記録

### 最後に

このドキュメントガイドは、プロジェクトを成功に導くための羅針盤です。すべての項目を機械的に埋めることを目指すのではなく、プロジェクトの目的と特性に応じて、本当に必要なドキュメントを適切な詳細度で作成してください。

一人でのプロジェクトであっても、将来の自分や他の開発者への引き継ぎを考え、最低限のドキュメントは維持することをお勧めします。また、LLMを効果的に活用することで、ドキュメント作成の負担を大幅に軽減できます。

ドキュメントは「生きた資料」です。プロジェクトの進行とともに成長し、変化していくものと捉え、継続的に改善していってください。


---

## 付録: ドキュメントテンプレートへのリンク

各ドキュメントの具体的なテンプレートは、別途用意することを推奨します。テンプレートには以下を含めると良いでしょう:

- ドキュメントのタイトルとバージョン情報
- 更新履歴のテーブル
- 目次
- 各セクションの見出しと記載項目の箇条書き
- 記入例やサンプル

テンプレートを使用することで、ドキュメント作成の効率が向上し、一貫性も保たれます。