# 4. 要求仕様書

### 概要
顧客や利害関係者からの要求を整理し、プロジェクトの目的を達成するために必要な要件を定義するドキュメントです。ユーザーストーリーで明確化された利用シナリオを、システムが満たすべき機能要件と非機能要件に変換します。

**必要性:**
- 顧客がいるなら必須
  - 本来、顧客が出してくるものの気がするが、何故か顧客にヒアリングして開発側が書いていることもある
- 自社開発でも数人レベルを超えたら必要
- 3までは必須レベル、4以降は必要に応じて
  - 要件をそこまで詳細に書くことはほとんどないため
  - 特別に指定があるときのみ書く

**作成タイミング:**
- ユーザーストーリーの後
- ユーザーストーリーの各項目（特に受け入れ基準）を要件に変換していく
- 設計仕様書群の作成前に一旦完成させる

### 記載項目

#### 0 更新履歴
- **記載内容:** このドキュメントをだれがいつなにを更新したかを記述(CHANGELOG相当)
  - 日付
  - 担当者
  - 変更内容
- ドキュメントのリリースごとに更新

#### 1 機能要件
- **記載内容:** システムが「すること」「できること」を記述
- ユーザーストーリーから導出される具体的な機能
- 各要件に以下を含める:
  - **ID:** 一意の識別子（例: FR-001）
  - **名前:** 要件の簡潔な名称
  - **説明:** 要件の詳細説明
  - **詳細:** 具体的な振る舞いや条件
  - **優先度:** 高/中/低、またはMust/Should/Could
  - **対応するユーザーストーリーID:** トレーサビリティの確保
- 「〜すること」「〜できること」という語尾で記述
- 実装粒度にこだわらず、大きなくくりで「入力できること」「編集できること」といった粒度で記述

#### 2 非機能要件
- **記載内容:** システムの品質特性（〜性、イリティ）を記述
- 各要件に機能要件と同様の項目（ID、名前、説明、詳細、優先度、対応するユーザーストーリーID）を含める
- 主な非機能要件の種類:
  - **性能要件:** 応答時間、スループット、同時接続数
  - **可用性:** 稼働率、ダウンタイム許容範囲
  - **信頼性:** エラー率、データ整合性
  - **保守性:** コードの可読性、モジュール性
  - **セキュリティ:** 認証、認可、暗号化
  - **スケーラビリティ:** 拡張性、負荷増加への対応
  - **互換性:** 他システムとの互換性、ブラウザ対応
  - **移植性:** プラットフォーム間の移植可能性
  - **ユーザビリティ:** 使いやすさ、学習容易性
  - **テスト容易性:** 可観測性、可制御性

#### 3 インターフェース要件

##### 3.1 外部インターフェース（API等）
- **記載内容:** 外部システムとの連携に関する要件
- 連携する外部システムの一覧
- 通信プロトコル
- データ形式
- 認証方式
- 各インターフェースにID、名前、説明、優先度、対応するユーザーストーリーIDを含める

##### 3.2 ユーザーインターフェース（UI）
- **記載内容:** ユーザーとシステムの接点に関する要件
- 対応デバイス（PC、タブレット、スマートフォン）
- アクセシビリティ要件
- デザインガイドライン（あれば参照）
- 各要件にID、名前、説明、優先度、対応するユーザーストーリーIDを含める

#### 4 データモデル
- **記載内容:** システムで扱う主要なデータの構造
- エンティティの一覧
- 主要な属性
- エンティティ間の関係（ER図など）
- データの制約条件
- ※詳細なDB設計はデータ設計書で実施

#### 5 制約条件
- **記載内容:** システム開発・運用における制約
- **技術的制約:**
  - 使用必須の技術スタック
  - 既存システムとの互換性要件
  - 開発環境の制限
- **法的制約:**
  - 準拠すべき法規制（個人情報保護法、業界規制など）
  - ライセンス制約
- **運用制約:**
  - 保守時間帯
  - データ保持期間
  - バックアップ要件

#### 6 品質要件
- **記載内容:** システム全体の品質に関する明示的な要件
- テストカバレッジ目標
- バグ許容レベル
  - 致命的、重大、軽微、提案レベル、それぞれ何件か
- ドキュメント品質基準
  - すべての公開APIにドキュメントが存在することなど
- コード品質基準（静的解析ツールの使用など）
  - lint警告0件など

#### 7 トレーサビリティマトリクス
- **記載内容:** 要件と前後のドキュメント（ユーザーストーリー、設計仕様、テスト）の紐付け
- 要件IDと対応するユーザーストーリーID、設計仕様ID、テストケースIDの対応表
- スプレッドシートや表形式で管理
  - 縦軸: 要件ID
  - 横軸: ユーザーストーリーID / 設計仕様ID / テストケースID
