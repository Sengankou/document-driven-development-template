# 20_architecture - アーキテクチャ

システム全体の構造と技術構成を定義するドキュメント群です。

## 特性
- **累積的**: フェーズを超えて「真実の源泉」として維持
- **対象読者**: 開発チーム、アーキテクト、技術レビュアー

## ドキュメント一覧

| ファイル | 目的 | 更新タイミング |
|---------|------|---------------|
| [overview.md](overview.md) | システム全体構成・アーキテクチャパターン | 構成変更時 |
| [decisions.md](decisions.md) | ADR（アーキテクチャ決定記録） | 重要な決定時に追記 |
| [tech_stack.md](tech_stack.md) | 技術スタック・選定理由 | 技術追加・変更時 |
| [data_model.md](data_model.md) | ER図・テーブル定義・型定義 | データ構造変更時 |

## 作成順序

1. **overview.md** - 要求仕様完成後、最初に作成
2. **decisions.md** - overview と並行して開始、継続的に追記
3. **tech_stack.md** - overview 作成時に初版
4. **data_model.md** - overview 完成後に作成

## ADR（Architecture Decision Records）の書き方

`decisions.md` には以下の形式で記録:

```markdown
## ADR-001: [タイトル]

**状態**: 提案中 / 承認済み / 却下 / 廃止
**日付**: YYYY-MM-DD

### コンテキスト
（何が問題だったか、なぜ決定が必要だったか）

### 決定
（何を決定したか - 「〜する」という形式）

### 理由
（なぜこの決定を下したか）

### 影響
（この決定による影響 - 正負両面）

### 代替案
（検討したが採用しなかった選択肢）
```

## トレーサビリティ

```
要求仕様 (REQ-xxx)
    ↓
アーキテクチャ決定 (ADR-xxx) ← 関連するREQ-xxxを記載
    ↓
実装
```
